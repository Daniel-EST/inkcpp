<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>inkcpp: HInkStory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">inkcpp
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_h_ink_story.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_h_ink_story-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">HInkStory Class Reference<div class="ingroups"><a class="el" href="group__clib.html">Clib Interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Handle for a loaded <a class="el" href="classink_1_1runtime_1_1story.html">ink story</a>.  
 <a href="class_h_ink_story.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="inkcpp__c_2include_2inkcpp_8h_source.html">inkcpp.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acbabb5e84b0d3ff46aa095c0732c33b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_h_ink_story.html">HInkStory</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_ink_story.html#acbabb5e84b0d3ff46aa095c0732c33b3">ink_story_from_file</a> (const char *filename)</td></tr>
<tr class="memdesc:acbabb5e84b0d3ff46aa095c0732c33b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new story object from a file.  <a href="class_h_ink_story.html#acbabb5e84b0d3ff46aa095c0732c33b3">More...</a><br /></td></tr>
<tr class="separator:acbabb5e84b0d3ff46aa095c0732c33b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11b781788a630a5638a0228182a61fdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_ink_story.html#a11b781788a630a5638a0228182a61fdc">ink_story_delete</a> (<a class="el" href="class_h_ink_story.html">HInkStory</a> *self)</td></tr>
<tr class="memdesc:a11b781788a630a5638a0228182a61fdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">deletes a story and all assoziated resources  <a href="class_h_ink_story.html#a11b781788a630a5638a0228182a61fdc">More...</a><br /></td></tr>
<tr class="separator:a11b781788a630a5638a0228182a61fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c0e45fba64a72031b755b9ad51afb7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_h_ink_globals.html">HInkGlobals</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_ink_story.html#a5c0e45fba64a72031b755b9ad51afb7e">ink_story_new_globals</a> (<a class="el" href="class_h_ink_story.html">HInkStory</a> *self)</td></tr>
<tr class="memdesc:a5c0e45fba64a72031b755b9ad51afb7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new global store.  <a href="class_h_ink_story.html#a5c0e45fba64a72031b755b9ad51afb7e">More...</a><br /></td></tr>
<tr class="separator:a5c0e45fba64a72031b755b9ad51afb7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b9416d38cd3bc712c9f0f50899fc10a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_h_ink_runner.html">HInkRunner</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_ink_story.html#a0b9416d38cd3bc712c9f0f50899fc10a">ink_story_new_runner</a> (<a class="el" href="class_h_ink_story.html">HInkStory</a> *self, <a class="el" href="class_h_ink_globals.html">HInkGlobals</a> *globals)</td></tr>
<tr class="memdesc:a0b9416d38cd3bc712c9f0f50899fc10a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new runner.  <a href="class_h_ink_story.html#a0b9416d38cd3bc712c9f0f50899fc10a">More...</a><br /></td></tr>
<tr class="separator:a0b9416d38cd3bc712c9f0f50899fc10a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b0af0695534934b9f72c6400915b71f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_h_ink_globals.html">HInkGlobals</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_ink_story.html#a4b0af0695534934b9f72c6400915b71f">ink_story_new_globals_from_snapshot</a> (<a class="el" href="class_h_ink_story.html">HInkStory</a> *self, const <a class="el" href="class_h_ink_snapshot.html">HInkSnapshot</a> *snapshot)</td></tr>
<tr class="separator:a4b0af0695534934b9f72c6400915b71f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa49f130739ae0a598c7fb8a7e25c7751"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_h_ink_runner.html">HInkRunner</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_ink_story.html#aa49f130739ae0a598c7fb8a7e25c7751">ink_story_new_runner_from_snapshot</a> (<a class="el" href="class_h_ink_story.html">HInkStory</a> *self, const <a class="el" href="class_h_ink_snapshot.html">HInkSnapshot</a> *snapshot, <a class="el" href="class_h_ink_globals.html">HInkGlobals</a> *globals, int runner_id)</td></tr>
<tr class="memdesc:aa49f130739ae0a598c7fb8a7e25c7751"><td class="mdescLeft">&#160;</td><td class="mdescRight">reconstruct runner from a snapshot  <a href="class_h_ink_story.html#aa49f130739ae0a598c7fb8a7e25c7751">More...</a><br /></td></tr>
<tr class="separator:aa49f130739ae0a598c7fb8a7e25c7751"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handle for a loaded <a class="el" href="classink_1_1runtime_1_1story.html">ink story</a>. </p>
<p>Created by loading a binary ink story into memory. Once loaded, the story class can create "runners" which execute story code. A story can have any number of runners, which can optionally share globals (variables, visit counts, etc). through the globals object. By default, each runner gets its own newly created globals store. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classink_1_1runtime_1_1runner__interface.html" title="A runner to execute ink script from a story.">ink::runtime::runner_interface</a> </dd>
<dd>
<a class="el" href="classink_1_1runtime_1_1globals__interface.html" title="Represents a global store to be shared amongst ink runners.">ink::runtime::globals_interface</a> </dd>
<dd>
<a class="el" href="class_h_ink_globals.html" title="Handle for the global variable store shared among ink runners.">HInkGlobals</a> </dd>
<dd>
<a class="el" href="class_h_ink_runner.html" title="A handle for an ink runner.">HInkRunner</a> </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a11b781788a630a5638a0228182a61fdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11b781788a630a5638a0228182a61fdc">&#9670;&nbsp;</a></span>ink_story_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ink_story_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_h_ink_story.html">HInkStory</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>deletes a story and all assoziated resources </p>
<dl class="section attention"><dt>Attention</dt><dd>this will invalidate all <a class="el" href="class_h_ink_runner.html" title="A handle for an ink runner.">HInkRunner</a> and <a class="el" href="class_h_ink_globals.html" title="Handle for the global variable store shared among ink runners.">HInkGlobals</a> handles assoziated with this story </dd></dl>

</div>
</div>
<a id="acbabb5e84b0d3ff46aa095c0732c33b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbabb5e84b0d3ff46aa095c0732c33b3">&#9670;&nbsp;</a></span>ink_story_from_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_h_ink_story.html">HInkStory</a> * ink_story_from_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new story object from a file. </p>
<p>Requires STL or other extension which allows files to be loaded and read. Will allocate all the data necessary to load the file and close it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>filename of the binary ink data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new story object </dd></dl>

</div>
</div>
<a id="a5c0e45fba64a72031b755b9ad51afb7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c0e45fba64a72031b755b9ad51afb7e">&#9670;&nbsp;</a></span>ink_story_new_globals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_h_ink_globals.html">HInkGlobals</a> * ink_story_new_globals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_h_ink_story.html">HInkStory</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new global store. </p>
<p>Creates a new global store that can be passed in when creating new runners for this story. Note: Can not be used for other stories. It is tied to this story.</p>
<dl class="section return"><dt>Returns</dt><dd>managed pointer to a new global store </dd></dl>

</div>
</div>
<a id="a4b0af0695534934b9f72c6400915b71f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b0af0695534934b9f72c6400915b71f">&#9670;&nbsp;</a></span>ink_story_new_globals_from_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_h_ink_globals.html">HInkGlobals</a> * ink_story_new_globals_from_snapshot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_h_ink_story.html">HInkStory</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_h_ink_snapshot.html">HInkSnapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p></p>

</div>
</div>
<a id="a0b9416d38cd3bc712c9f0f50899fc10a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b9416d38cd3bc712c9f0f50899fc10a">&#9670;&nbsp;</a></span>ink_story_new_runner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_h_ink_runner.html">HInkRunner</a> * ink_story_new_runner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_h_ink_story.html">HInkStory</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_h_ink_globals.html">HInkGlobals</a> *&#160;</td>
          <td class="paramname"><em>globals</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new runner. </p>
<p>Creates a new runner whose initial instruction pointer is the first instruction in this story. If no global store is passed, a new one will be created for the runner.</p>
<dl class="section return"><dt>Returns</dt><dd>managed pointer to a new runner </dd></dl>

</div>
</div>
<a id="aa49f130739ae0a598c7fb8a7e25c7751"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa49f130739ae0a598c7fb8a7e25c7751">&#9670;&nbsp;</a></span>ink_story_new_runner_from_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_h_ink_runner.html">HInkRunner</a> * ink_story_new_runner_from_snapshot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_h_ink_story.html">HInkStory</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_h_ink_snapshot.html">HInkSnapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_h_ink_globals.html">HInkGlobals</a> *&#160;</td>
          <td class="paramname"><em>globals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>runner_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reconstruct runner from a snapshot </p>
<dl class="section attention"><dt>Attention</dt><dd>runner must be snap_shotted from the same story </dd>
<dd>
if globals is explicit set, make sure the globals are from the same snapshot as </dd>
<dd>
if you snap_shotted a multiple runner with shared global please reconstruct it in the same fashion </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">store</td><td>can be set if explicit access to globals is required or multiple runner with a shared global are used </td></tr>
    <tr><td class="paramname">idx</td><td>if the snapshot was of a multiple runner one global situation load first the global, and then each runner with global set and increasing idx </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>inkcpp_c/include/<a class="el" href="inkcpp__c_2include_2inkcpp_8h_source.html">inkcpp.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_h_ink_story.html">HInkStory</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
